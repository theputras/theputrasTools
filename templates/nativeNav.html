<nav class="fixed bottom-6 left-0 right-0 z-50 mt-5">
    <div class="flex justify-between items-center h-20 px-6 max-w-lg mx-auto 
                bg-gray-900/60 backdrop-blur-sm backdrop-saturate-150 
                rounded-[2.5rem] shadow-2xl shadow-black/50
                border border-white/10 border-t-white/20">

        {% set home_url = url_for('index') %}
        {% set tools_url = url_for('tools_page') %}
        {% set account_url = url_for('account_page') %}

        <a href="{{ home_url }}" 
           class="relative flex flex-col items-center justify-center w-14 h-14 rounded-full transition-all duration-300 group
                  {% if request.path == home_url %}
                      text-white w-[5rem]
                  {% else %}
                      text-gray-400 hover:text-gray-200
                  {% endif %}
                 ">
            
            {% if request.path == home_url %}
            <div class="absolute inset-0 bg-white/10 rounded-full blur-md"></div>
            <div class="absolute inset-0 bg-white/5 rounded-full border border-white/10 shadow-[inset_0_1px_4px_rgba(255,255,255,0.2)]"></div>
            {% endif %}

           
            <svg class="relative w-6 h-6 mb-1 transition-transform duration-300 {% if request.path == home_url %} scale-110 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)] {% else %} group-hover:scale-110 {% endif %}"  xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 19v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-3q-.425 0-.712-.288T14 20v-5q0-.425-.288-.712T13 14h-2q-.425 0-.712.288T10 15v5q0 .425-.288.713T9 21H6q-.825 0-1.412-.587T4 19"/></svg>
            <span class="relative text-[9px] font-bold tracking-wider {% if request.path == home_url %} text-white drop-shadow-md {% endif %}">Home</span>
        </a>

        <a href="{{ tools_url }}" 
           class="relative flex flex-col items-center justify-center w-14 h-14 rounded-full transition-all duration-300 group
                  {% if request.path == tools_url %}
                      text-white w-[5rem]
                  {% else %}
                      text-gray-400 hover:text-gray-200
                  {% endif %}
                 ">
            
             {% if request.path == tools_url %}
            <div class="absolute inset-0 bg-white/10 rounded-full blur-md"></div>
            <div class="absolute inset-0 bg-white/5 rounded-full border border-white/10 shadow-[inset_0_1px_4px_rgba(255,255,255,0.2)]"></div>
            {% endif %}

           
            <svg class="relative w-7 h-7 mb-1 transition-transform duration-300 {% if request.path == tools_url %} scale-110 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)] {% else %} group-hover:scale-110 {% endif %}" 
                 fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span class="relative text-[9px] font-bold tracking-wider {% if request.path == tools_url %} text-white drop-shadow-md {% endif %}">Tools</span>
        </a>

        <a href="{{ account_url }}" 
           class="relative flex flex-col items-center justify-center w-14 h-14 transition-all duration-300 group
                  {% if request.path == account_url %}
                      text-white w-[5rem]
                  {% else %}
                      text-gray-400 hover:text-gray-200
                  {% endif %}
                 ">
            
             {% if request.path == account_url %}
            <div class="absolute inset-0 bg-white/10 rounded-full blur-md"></div>
            <div class="absolute inset-0 bg-white/5 rounded-full border border-white/10 shadow-[inset_0_1px_4px_rgba(255,255,255,0.2)]"></div>
            {% endif %}

            <svg class="relative w-6 h-6 mb-1 transition-transform duration-300 {% if request.path == account_url %} scale-110 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)] {% else %} group-hover:scale-110 {% endif %}" 
                 fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            <span class="relative text-[9px] font-bold tracking-wider {% if request.path == account_url %} text-white drop-shadow-md {% endif %}">Account</span>
        </a>

    </div>
</nav>

<script src="/static/js/components/ui.js"></script>
<div x-data class="fixed top-5 right-5 z-[60] flex flex-col gap-3 w-full max-w-sm pointer-events-none">
    <template x-for="toast in $store.toast.items" :key="toast.id">
        <div x-show="toast.show" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-x-10" x-transition:enter-end="opacity-100 translate-x-0" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100 translate-x-0" x-transition:leave-end="opacity-0 translate-x-10" class="pointer-events-auto bg-gray-900/80 shadow-2xl rounded-2xl p-4 border border-white/10 flex items-start gap-3 text-gray-200">
            <div class="flex-shrink-0 pt-0.5"><i x-show="toast.type === 'success'" class="fas fa-check-circle text-green-400 drop-shadow-md"></i><i x-show="toast.type === 'error'" class="fas fa-times-circle text-red-400 drop-shadow-md"></i><i x-show="toast.type === 'info'" class="fas fa-info-circle text-blue-400 drop-shadow-md"></i></div>
            <div class="flex-1 text-sm font-medium" x-text="toast.message"></div>
        </div>
    </template>
</div>
<div x-data x-show="$store.confirm.isOpen" class="fixed inset-0 z-[70] flex items-center justify-center px-4" x-cloak>
    <div x-show="$store.confirm.isOpen" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" @click="$store.confirm.close(false)" class="absolute inset-0"></div>
    <div x-show="$store.confirm.isOpen" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 scale-90 translate-y-4" x-transition:enter-end="opacity-100 scale-100 translate-y-0" x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100 scale-100 translate-y-0" x-transition:leave-end="opacity-0 scale-90 translate-y-4" class="relative bg-gray-900/50 backdrop-blur-sm rounded-[2rem] shadow-2xl max-w-md w-full p-6 border border-white/10 ring-1 ring-white/5">
        <h3 class="text-xl font-bold text-white mb-2" x-text="$store.confirm.title"></h3>
        <p class="text-gray-300 text-sm mb-6 leading-relaxed" x-text="$store.confirm.message"></p>
        <div class="flex justify-end gap-3"><button @click="$store.confirm.close(false)" class="px-5 py-2.5 rounded-full text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition border border-transparent hover:border-white/10">Batal</button><button @click="$store.confirm.close(true)" :class="$store.confirm.type === 'danger' ? 'bg-red-500/80 hover:bg-red-500 shadow-red-500/20' : 'bg-blue-500/80 hover:bg-blue-500 shadow-blue-500/20'" class="px-5 py-2.5 rounded-full text-sm font-bold text-white shadow-lg backdrop-blur-sm transition transform active:scale-95">Ya, Lanjutkan</button></div>
    </div>
</div>